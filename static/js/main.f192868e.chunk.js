(this["webpackJsonpreact-simon"]=this["webpackJsonpreact-simon"]||[]).push([[0],{48:function(e,n,t){e.exports=t.p+"static/media/blue.d6f8a4c1.mp3"},49:function(e,n,t){e.exports=t.p+"static/media/green.3c8ca947.mp3"},50:function(e,n,t){e.exports=t.p+"static/media/red.8d481077.mp3"},51:function(e,n,t){e.exports=t.p+"static/media/yellow.3ee58245.mp3"},55:function(e,n,t){e.exports=t(75)},64:function(e,n,t){},75:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(22),o=t.n(c),i=t(14),u=t(26),l=t(2),s=(t(64),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function d(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var f=t(16),p=t.n(f),g=t(21),m=t(13),b=t(34),h=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return e=setTimeout((function(){t()}),n)})).catch((function(n){clearTimeout(e)})).then((function(){clearTimeout(e)})).finally((function(){clearTimeout(e)}))},v={red:"#FF4136",blue:"#0074D9",green:"#2ECC40",yellow:"#FFDC00",white:"white",dark:"#1B1A1A"},O=["green","red","yellow","blue"],x=function(){return O[Math.floor(Math.random()*O.length)]};function j(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e,payload:n}}}var E=j("START_GAME"),w=j("NEXT_LEVEL"),y=j("GUESS_COLOR"),k=j("START_SONG"),S=j("FINISH_SONG"),_=j("LIGHTEN_PAD"),T=j("LIGHTEN_OFF_PAD"),C={startSong:k,startGame:function(e){return E({next:x()})},finishSong:S,lightenPad:_,lightenOffPad:T,nextLevel:function(e){return w({next:x()})},guessColor:y,guess:function(e){var n=e.succeeded,t=e.id;return function(){var e=Object(g.a)(p.a.mark((function e(r,a){var c,o,i,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(y({succeeded:n,id:t})),r(k()),r(_({id:t})),e.next=6,h(100);case 6:return r(T()),e.next=9,h(100);case 9:return r(S()),c=a(),o=c.match,i=o.all,u=o.guessed,l=i.length===u.length&&n,e.abrupt("return",new Promise((function(e){return e({done:l})})));case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(n,t){return e.apply(this,arguments)}}()},sing:function(e){return function(){var e=Object(g.a)(p.a.mark((function e(n,t){var r,a,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n(k()),r=t(),a=r.match,c=0;case 4:if(!(c<=a.all.length-1)){e.next=15;break}return o=a.all[c],n(_({id:o})),e.next=9,h(200);case 9:return n(T()),e.next=12,h(200);case 12:c++,e.next=4;break;case 15:n(S()),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(n,t){return e.apply(this,arguments)}}()}},N=t(5),G=t(4);function P(){var e=Object(N.a)(["\n  ","\n"]);return P=function(){return e},e}function L(){var e=Object(N.a)(["\n  ","\n"]);return L=function(){return e},e}var A="\n  font-size: 2em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid white;\n  color: white;\n  background-color: transparent;\n  font-family: 'Bungee', sans-serif;\n  border-radius: 3px;\n  cursor: pointer;\n  transition: 0.3s;\n  outline: none;\n  text-decoration: none;\n\n  &:hover {\n    transform: scale(1.02);\n  }\n",R=G.default.button(L(),A),F=Object(G.default)(u.b)(P(),A),I=t(9);function B(){var e=Object(N.a)(["\n  position: absolute;\n  margin: auto;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 4;\n  text-align: center;\n  background-color: rgba(0, 0, 0, 0.9);\n  height: 250px;\n"]);return B=function(){return e},e}var D=Object(G.default)(I.Box)(B());function H(){var e=Object(N.a)(["\n  pointer-events: ",";\n  position: relative;\n"]);return H=function(){return e},e}var M=G.default.div(H(),(function(e){return e.disbledPointer?"none":"initial"}));function z(){var e=Object(N.a)(["\n  transition: 0.7s;\n  filter: grayscale(100%);\n  ","\n"]);return z=function(){return e},e}var U=G.default.div(z(),(function(e){return e.disabled?"\n    filter: none;\n  ":""})),X=t(47),V=t.n(X);function W(){var e=Object(N.a)(["\n  width: 200px;\n  height: 200px;\n  box-sizing: border-box;\n  background-color: ",";\n  cursor: pointer;\n  animation: none;\n  transition: 0.2s;\n  ","\n\n  @media (max-width: 600px) {\n    width: 170px;\n    height: 170px;\n  }\n\n  &:active {\n    background-color: "," ",";\n  }\n\n  &:hover {\n    ","\n    box-shadow: 0 0 15px rgba(0, 0, 0, .8);\n  }\n\n  &.top-left {\n    border-radius: 320px 20px 20px 20px;\n  }\n\n  &.top-right {\n    border-radius: 20px 320px 20px 20px;\n  }\n\n  &.bottom-left {\n    border-radius: 20px 20px 20px 320px;\n  }\n\n  &.bottom-right {\n    border-radius: 20px 20px 320px 20px;\n  }\n"]);return W=function(){return e},e}var J=function(e){return V()(e).lighten(.333).hex()},Y=function(e){return"\n  background-color: ".concat(J(e.color)," !important;\n  animation: foo;\n  ").concat("\n  transform: scale(1.02);\n","\n")},$=Object(G.default)(I.Box)(W(),(function(e){return e.color}),(function(e){return e.active?Y(e):""}),(function(e){var n=e.color;return J(n)}),Y,"\n  transform: scale(1.02);\n"),q={GreenPad:function(e){var n=Object.assign({},e);return a.a.createElement($,Object.assign({m:1,color:v.green,className:"top-left"},n))},RedPad:function(e){var n=Object.assign({},e);return a.a.createElement($,Object.assign({m:1,color:v.red,className:"top-right"},n))},YellowPad:function(e){var n=Object.assign({},e);return a.a.createElement($,Object.assign({m:1,color:v.yellow,className:"bottom-left"},n))},BluePad:function(e){var n=Object.assign({},e);return a.a.createElement($,Object.assign({m:1,color:v.blue,className:"bottom-right"},n))}},K=function(e){var n=e.pad,t=e.onClick,r=n.component,c=q[r];return a.a.createElement(c,Object.assign({},n,{onClick:t}))};function Q(){var e=Object(N.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  margin: auto;\n  background-color: ",";\n  font-size: ",";\n  border-radius: 50%;\n  width: 120px;\n  height: 120px;\n  line-height: 120px;\n  text-align: center;\n  z-index: 2;\n  padding: 5px;\n  box-shadow: 0 0 15px rgba(0, 0, 0, .8);\n  text-align: center;\n"]);return Q=function(){return e},e}var Z=G.default.div(Q(),v.dark,(function(e){return e.length<=2?"62px":"45px"})),ee=t(27),ne=t(28),te=t(30),re=t(29),ae=t(48),ce=t.n(ae),oe=t(49),ie=t.n(oe),ue=t(50),le=t.n(ue),se=t(51),de=t.n(se),fe={blue:ce.a,green:ie.a,red:le.a,yellow:de.a},pe=function(e){Object(te.a)(t,e);var n=Object(re.a)(t);function t(){return Object(ee.a)(this,t),n.apply(this,arguments)}return Object(ne.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.active,n=this.refs[e];n&&(n.currentTime=0,n.play())}},{key:"render",value:function(){return a.a.createElement("div",null,Object.keys(fe).map((function(e,n){return a.a.createElement("audio",{ref:e,preload:"auto",src:fe[e],key:n})})))}}]),t}(r.Component),ge=Object(i.b)((function(e){var n=e.pads,t=(e.game,n.find((function(e){return e.active})));return{active:t?t.id:null}}))(pe),me=t(3),be=t(54);function he(){var e=Object(N.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return he=function(){return e},e}var ve=Object(G.default)(I.Box)(he()),Oe=function(e){Object(te.a)(t,e);var n=Object(re.a)(t);function t(){return Object(ee.a)(this,t),n.apply(this,arguments)}return Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,n=e.highscore,t=e.style,r=e.children;return a.a.createElement(I.Flex,{align:"center",justify:"center",style:Object(me.a)({width:"100%",height:"100%"},t)},a.a.createElement(ve,{p:2,justify:"space-between",flex:!0},a.a.createElement(I.Box,null,"HIGH SCORE: ",n," ",a.a.createElement("br",null)),a.a.createElement(I.Box,null,a.a.createElement("a",{href:"https://github.com/weslleyaraujo/react-simon/",target:"_blank"},a.a.createElement(be.a,{size:40,color:"white"})))),a.a.createElement(I.Box,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100%",height:"100%"},r))}}]),t}(r.Component),xe=Object(i.b)((function(e){return e.game}))(Oe);var je=Object(i.b)(null,(function(e){return{actions:Object(m.b)(C,e)}}))((function(e){var n=e.actions,t=Object(i.d)((function(e){return e}),i.c),c=t.highscore,o=t.game,u=o.gameOver,l=o.score,s=o.singing,d=t.match,f=t.pads,m=Object(r.useCallback)((function(){n.startGame(),h(200).then((function(){return n.sing()}))}),[n]);Object(r.useEffect)((function(){m()}),[]);var v=Object(r.useCallback)((function(e){var t=e.id,r=d.guessed.length,a=d.all[r]===t;u||n.guess({id:t,succeeded:a}).then(function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.done){e.next=6;break}return n.nextLevel(),e.next=5,h(500);case 5:n.sing();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[n,d]);return a.a.createElement(xe,null,u&&a.a.createElement(D,{p:2},a.a.createElement("h2",null,"SCORE ",l),a.a.createElement("h3",null,"HIGH SCORE ",c),a.a.createElement(R,{onClick:m},"Try again")),a.a.createElement(U,{disabled:!u},a.a.createElement(M,{disbledPointer:s||u},a.a.createElement(b.Flex,{align:"center",justify:"center"},f.slice(0,2).map((function(e,n){return a.a.createElement(K,{key:n,pad:e,onClick:function(){return v({id:e.id})}})}))),a.a.createElement(Z,{length:null===l||void 0===l?void 0:l.toString().length},l),a.a.createElement(b.Flex,{align:"center",justify:"center"},f.slice(2,4).map((function(e,n){return a.a.createElement(K,{key:n,pad:e,onClick:function(){return v({id:e.id})}})}))))),a.a.createElement(ge,null))})),Ee=t(31);function we(){var e=Object(N.a)(["\n  color: #fff;\n  font-size: 5em;\n  text-align: center;\n"]);return we=function(){return e},e}var ye=G.default.h1(we()),ke=function(e){var n=e.value;return a.a.createElement(ye,null,function(e){var n=e.colors,t=e.value,r=Object.keys(n),c=r.length-1,o=Object(Ee.a)(Array(Math.floor(t.length/c))).reduce((function(e,n){return[].concat(Object(Ee.a)(e),Object(Ee.a)(r))}),[]).concat(r.slice(0,r.length%c)).map((function(e){return n[e]})).map((function(e,n){return a.a.createElement("span",{key:n,style:{color:e}},t[n])}));return a.a.createElement("span",null,o)}({colors:v,value:n}))},Se=function(){return a.a.createElement(xe,null,a.a.createElement(ke,{value:"REACT SIMON"}),a.a.createElement(I.Flex,{justify:"center"},a.a.createElement(F,{to:"/board"},"Play")))},_e=t(52),Te=t(53),Ce=[{id:"green",component:"GreenPad",active:!1},{id:"red",component:"RedPad",active:!1},{id:"yellow",component:"YellowPad",active:!1},{id:"blue",component:"BluePad",active:!1}];var Ne={singing:!0,gameOver:!1,score:0,highscore:0};var Ge={guessed:[],all:[]};var Pe=Object(m.c)({pads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case"LIGHTEN_PAD":return e.map((function(e){return Object(me.a)(Object(me.a)({},e),{},{active:r.id===e.id})}));case"LIGHTEN_OFF_PAD":return e.map((function(e){return Object(me.a)(Object(me.a)({},e),{},{active:!1})}));default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case"START_GAME":return Object(me.a)(Object(me.a)({},e),{},{gameOver:!1,score:0});case"START_SONG":return Object(me.a)(Object(me.a)({},e),{},{singing:!0});case"FINISH_SONG":return Object(me.a)(Object(me.a)({},e),{},{singing:!1});case"NEXT_LEVEL":return Object(me.a)(Object(me.a)({},e),{},{score:e.score+1});case"GUESS_COLOR":return Object(me.a)(Object(me.a)({},e),{},{gameOver:!r.succeeded,highscore:(!r.succeeded&&e.score)>e.highscore?e.score:e.highscore});default:return e}},match:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case"START_GAME":return{guessed:[],all:[r.next]};case"NEXT_LEVEL":return{guessed:[],all:e.all.concat(r.next)};case"GUESS_COLOR":return Object(me.a)(Object(me.a)({},e),{},{guessed:r.succeeded?e.guessed.concat(r.id):e.guessed});default:return e}},routing:Te.routerReducer}),Le=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d)(Object(m.a)(_e.a)),Ae=Object(m.e)(Pe,{},Le);o.a.render(a.a.createElement(i.a,{store:Ae},a.a.createElement(u.a,null,a.a.createElement(l.c,null,a.a.createElement(l.a,{path:"/board"},a.a.createElement(je,null)),a.a.createElement(l.a,{path:"/"},a.a.createElement(Se,null))))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/react-simon-says",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/react-simon-says","/service-worker.js");s?function(e){fetch(e).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):d(e)}))}}()}},[[55,1,2]]]);
//# sourceMappingURL=main.f192868e.chunk.js.map